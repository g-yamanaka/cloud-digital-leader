# Google Cloud Digital Leader 復習ノート  
## 模擬試験④・⑤ 総合整理（弱点＋要再確認）

---

## 全体サマリー

- 試験④：**理解不足・混同が原因の失点が多い**
- 試験⑤：**正答率70%だが、判断軸が曖昧な問題が複数あり「運で正解」が含まれる**
- 共通課題：
  - IAM / アイデンティティ管理
  - GKE・VM・コンテナの使い分け
  - 移行・保存・課金の「誰が何をするか」

👉 **概念理解はできているが、最適解を選ぶための判断ルールが不足**

---

## ① IAM / アイデンティティ管理（最重要）

### 重要原則（暗記レベル）
- **人の権限管理**：Google グループ + IAM
- **システムの権限管理**：サービスアカウント + IAM
- **リソース（VM等）に直接権限は付けない**

### 正しい対応関係
| 対象 | 使うもの |
|----|----|
| 人・部署 | Google グループ |
| アプリ・VM | サービスアカウント |
| 権限制御 | IAM ロール |

### 試験⑤ 該当（理解が浅かった問題）
- Q27：BigQuery + Compute Engine  
- Q29：LDAPグループ → Google Cloudでの管理

### よくある誤解
- ❌ VMに直接権限を付ける  
- ❌ プロジェクト全体に雑に権限付与  

👉 **「誰が API を叩くか？」を常に考える**

---

## ② GKE / VM / コンテナ / 仮想化の整理

### 技術の役割分担
| 技術 | 役割 |
|----|----|
| ハイパーバイザー | 1台の物理マシンで複数OS |
| VM | OSごと分離した実行環境 |
| コンテナ | OS共有・アプリ分離 |
| GKE | コンテナ運用の自動化 |

### 試験⑤ 該当
- Q17（GKEの強み）
- Q40（複数OSを動かす技術）

### 判断ルール
- **OSが必要 → VM**
- **頻繁な更新・無停止 → GKE**
- **インフラ管理したくない → サーバーレス**

---

## ③ クラウド移行・保存・配布

### コンテナ・VM移行
| 対象 | サービス |
|----|----|
| コンテナイメージ | Artifact Registry |
| VMディスク | Cloud Storage |

（試験⑤ Q18）

---

### 公開データ配布（コスト最小）
- **Requester Pays を使う**
  - ダウンロード費用は利用者負担
  - データ提供側のコストを抑えられる

（試験⑤ Q24）

---

## ④ コスト管理・可視化

### 可視化に使うもの
- 請求ダッシュボード
- **リソースラベル（重要）**

👉 割引（CUD / 継続利用割引）は  
**「可視化」ではなく「削減」手段**

（試験⑤ Q10）

---

## ⑤ データ基盤（ほぼ運で正解した問題の整理）

### Dataflow（Q20）
- フルマネージド
- クラスタ管理不要
- ストリーミング / バッチ両対応

👉 **「インフラ作りたくない大量データ処理」＝ Dataflow**

---

### Cloud Spanner（Q12）
- グローバル分散
- 強整合性
- 無限スケール

👉 **「世界規模 × トランザクション」＝ Spanner**

---

### BigQuery / Data Warehouse（Q8, Q34）
- 構造化・非構造化データ
- 大規模分析
- SQLベース

👉 **分析・集約・洞察**

---

## ⑥ 機械学習（ツール選択）

### 使い分け
| やりたいこと | 選択 |
|----|----|
| すぐ使う・学習不要 | 事前学習API |
| テキスト分析 | Natural Language API |
| カスタムML + TPU | TensorFlow |
| SQLでML | BigQuery ML |

### 試験⑤ 該当
- Q28（テキスト分類）
- Q49（TPU + OSS）

---

## ⑦ ネットワーク・接続

### オンプレミスと安全に接続（Q46）
- VPC を使ったプライベート接続
- 低レイテンシ・安全

---

## ⑧ API管理（Apigee）（Q41）

- APIの可視化
- パフォーマンス測定
- 利用状況の分析

👉 **APIを「管理」するためのサービス**

---

## ⑨ DevOps / SRE / 運用思想

### SRE
- 失敗は前提
- 学習と改善が重要
- ポストモーテムは責任追及しない

### DevOps
- 自動化で反復作業を減らす
- ワークフロー改善

---

## 最終まとめ（本番用チェック）

- IAM：**人 or システム？**
- 実行環境：**OS必要？更新頻度？**
- データ：**保存？分析？配布？**
- ML：**APIか自前か**
- 運用：**管理したい？したくない？**

👉 この判断が即できれば **本番は安定して合格圏**。
